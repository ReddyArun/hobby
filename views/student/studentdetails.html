<div class="col-md-12" style="margin-left: -15px;">
    <ul class="breadcrumb">
        <li>
            <a ui-sref="studentsdetails" ui-sref-opts="{reload: true}">View All Students</a> <span class="divider"></span>
        </li>
        <li class="active">
            {{viewStudentData.name}}
        </li>
    </ul>
</div>
<div class="row viewstudentrow">
    <div class="col-xs-8 col-sm-4 placeholder text-right imageright">
        <img src="{{(viewStudentData.image)? viewStudentData.image : (viewStudentData.gender == 'male') ? 'img/male-avatar.jpg': 'img/female-avatar.jpg'}}" class="center-block img-responsive img-circle" alt="Generic placeholder thumbnail">
    </div>
    <span class="text-primary"><h1>{{viewStudentData.name}}</h1></span>
    <p class="text-muted">{{viewStudentData.mobile}}</p> 
    <p class="text-muted">Promised 1st Year Fee : <label >{{viewStudentData.puc1fee}}</label></p> 
    <p class="text-muted">Promised 2nd Year Fee : <label >{{viewStudentData.puc2fee}}</label></p>
    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div id="collapseTwo" class="accordion-body collapse">

                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eveniet quasi reiciendis harum quibusdam tempore commodi! Voluptatem recusandae incidunt accusamus expedita.</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Qui, repudiandae, asperiores atque quas deleniti odit minima fugiat obcaecati dolorum ad amet ipsum similique ea consequuntur quos dolore error veniam sed.</p>
            </div>

            <button class="SeeMore2 btn btn-link" data-toggle="collapse" href="#collapseTwo">See More</button>
        </div>
    </div>
</div>
<br>
<div class="row viewstudentrow">
    <div class="pull-left"><button type="button" class="btn btn-primary" id="myBtn"> <span class="glyphicon glyphicon-transfer"></span> Pay Fee</button></div>
</div>
<hr>
<div class="row">
    <div class="text-primary lead colors  col-lg-6 pull-left">Balance : <label class="col-bn"> {{(viewStudentData.puc1fee + viewStudentData.puc2fee) - viewBalanceData.paidamount}} </label></div>
    <div class="text-primary lead colors  col-lg-6 pull-right text-right">Total Paid Amount : <label class="col-bn"> {{viewBalanceData.paidamount}} </label></div>
</div>
<label class="text-primary lead colors">Payment History</label>

<div class="panel-group" id="accordion">
    <div class="panel panel-default" style="border-color: #A5B9D2;">
        <div class="panel-heading" style="background-color: #A5B9D2;border-color: #A5B9D2;">
            <h4 class="panel-title">
                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapse1" style="text-decoration:none;">
                    Academic Fee
                </a>
            </h4>
        </div>
        <div id="collapse1" class="panel-collapse collapse in">
            <div class="panel-body">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Amount</th>
                            <th>Description</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="row in viewStudentData.fee">
                            <td>{{row.paiddate| date:'MMM dd, yyyy HH:MM a'}}</td>
                            <td>{{row.amount}}</td>
                            <td>{{row.description}}</td>
                            <td>
                                <button class="btn btn-primary " style="align-self: flex-end" ng-click="print(viewStudentData._id, row.id, 'academicfee')"><span class="glyphicon glyphicon-print"></span> Print</button>

                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="panel panel-default" style="border-color: #A5B9D2;">
        <div class="panel-heading" style="background-color: #A5B9D2;border-color: #A5B9D2;">
            <h4 class="panel-title">
                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapse2" style="text-decoration:none;">
                    Exam Fee
                </a>
            </h4>
        </div>
        <div id="collapse2" class="panel-collapse collapse">
            <div class="panel-body">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Amount</th>
                            <th>Description</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="row in viewStudentData.examfee">
                            <td>{{row.paiddate| date:'MMM dd, yyyy'}}</td>
                            <td>{{row.amount}}</td>
                            <td>{{row.description}}</td>
                            <td>
                                <button class="btn btn-primary " style="align-self: flex-end" ng-click="print(viewStudentData._id, row.id, 'examfee')"><span class="glyphicon glyphicon-print"></span> Print</button>

                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="panel panel-default" style="border-color: #A5B9D2;">
        <div class="panel-heading" style="background-color: #A5B9D2;border-color: #A5B9D2;">
            <h4 class="panel-title">
                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapse3" style="text-decoration:none;">
                    Miscellaneous Fee
                </a>
            </h4>
        </div>
        <div id="collapse3" class="panel-collapse collapse">
            <div class="panel-body">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Amount</th>
                            <th>Description</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="row in viewStudentData.otherfee">
                            <td>{{row.paiddate| date:'MMM dd, yyyy'}}</td>
                            <td>{{row.amount}}</td>
                            <td>{{row.description}}</td>
                            <td>
                                <button class="btn btn-primary " style="align-self: flex-end" ng-click="print(viewStudentData._id, row.id, 'otherfee')"><span class="glyphicon glyphicon-print"></span> Print</button>

                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<br>
<style>
    .modal-header, .close {
        background-color: #5cb85c;
        color:white !important;
        text-align: center;
        font-size: 30px;
    }
    .modal-footer {
        background-color: #f9f9f9;
    }
</style>
<!-- Modal -->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <form class="form-horizontal" role="form" name="feeData">
                <div class="modal-header" style="padding:25px 50px;">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4><span class="glyphicon glyphicon-lock"></span> Fee Payment</h4>
                </div>

                <div class="modal-body" style="padding:40px 50px;">
                    <div class="form-group">
                        <label for="type" class="control-label col-sm-4"><span class="glyphicon glyphicon-user"> </span> Fee Type :</label>
                        <div class="col-md-4">
                            <select name="type" id="type" ng-model="feePayment.type" required>
                                <option value="">Select Fee Type</option>
                                <option value="academicfee" selected>Academic Fee</option>
                                <option value="examfee">Exam Fee</option>
                                <option value="otherfee">Miscellaneous Fee</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="amount" class="control-label col-sm-4"><span class="glyphicon glyphicon-user"> </span> Amount :</label>
                        <div class="col-md-4" ng-class="{
                                'has-error'
                                        : feeData.amount.$invalid, 'has-success': !feeData.amount.$dirty, 'has-feedback':feeData.amount.$invalid || !feeData.amount.$invalid}">
                            <input id="amount" name="amount" type="number" class="form-control input-sm" placeholder="Enter Initial Fee" ng-model="feePayment.amount" required ng-pattern="/^([0-9]{3,6})?$/">
                            <span class="glyphicon form-control-feedback" ng-class="{
                                    'glyphicon-ok'
                                            : !feeData.amount.$invalid, 'glyphicon-remove': feeData.amount.$invalid}" ng-show="feeData.amount.$invalid || !feeData.amount.$invalid"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-4" for="description"><span class="glyphicon glyphicon-eye-open"> </span> Description :</label>
                        <div class="col-md-8" ng-class="{
                                'has-error'
                                        : feeData.description.$invalid && feeData.description.$dirty, 'has-success': !feeData.description.$invalid, 'has-feedback': (feeData.description.$invalid && feeData.description.$dirty) || !feeData.description.$invalid}">
                            <input id="description" name="description" type="text" class="form-control input-sm" placeholder="Enter Name" ng-model="feePayment.description" required ng-maxlength="100" ng-minlength="5">
                            <span class="glyphicon form-control-feedback" ng-class="{
                                    'glyphicon-ok':!feeData.description.$invalid, 'glyphicon-remove'
                                            : feeData.description.$invalid && feeData.description.$dirty}" ng-show="(feeData.description.$invalid && feeData.description.$dirty) || !feeData.description.$invalid"></span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-success btn-default" data-dismiss="modal" ng-disabled="feeData.$invalid" ng-click="addFeePayment(viewStudentData._id)"><span class="glyphicon glyphicon-transfer"></span> Pay</button>
                    <button type="submit" class="btn btn-danger btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Cancel</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
    $("#myBtn").click(function () {
    $("#myModal").modal();
    });
    $('.SeeMore2').click(function () {
    var $this = $(this);
    $this.toggleClass('SeeMore2');
    if ($this.hasClass('SeeMore2')) {
    $this.text('See More');
    } else {
    $this.text('See Less');
    }
    });
    });</script>